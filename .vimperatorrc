" Main commands you need to know
" c - buffer mode, this is what lets you move around and copy+paste. 
"   Use / to find something, c to go into buffer mode and v to go into visual mode
" v - fast enter to visual selection mode. Useful for after search
" cntrl-f: same as ESC, enter normal mode from anywhere


" Firefox Settings {
    set titlestring="Firefox"
    " Don't show menu bar or url input
    set gui=none,bookmarks,tabs
    " Make Firefox run faster by using JIT
    set! javascript.options.jit.chrome=true
    " Disable Alt key for menu toggle
    set! ui.key.menuAccessKey=0
    set! ui.key.menuAccessKeyFocuses=false
    set tabnumbers
    set sh=/usr/bin/zsh
    set! browser.newtab.url=about:blank
    " Pipelining (download webpages over multiple pipes)
    set! network.http.pipelining=true
    set! network.http.pipelining.maxrequests=4
    set! network.http.max-connections=4
    set! network.http.max-connections-per-server=4
    " no warnings
    set! browser.shell.checkDefaultBrowser=false
    set! browser.tabs.warnOnClose=false
    set! browser.tabs.warnOnCloseOtherTabs=false
    set! browser.tabs.warnOnOpen=false
    set! general.warnOnAboutConfig=false
    " open tabs to the right of the current
    set! browser.tabs.insertRelatedAfterCurrent=true
    set! browser.tabs.insertRelatedAfterCurrent.override=true
    " privacy stuff
    set! privacy.donottrackheader.enabled=true
    set! network.cookie.cookieBehavior=1
    set! general.useragent.override="Mozilla/5.0 (Windows NT 6.1; WOW64; rv:28.0) Gecko/20100101 Firefox/38.0"
    "" Google stuff
    set! browser.safebrowsing.appRepURL=""
    set! browser.safebrowsing.debug=false
    set! browser.safebrowsing.downloads.enabled=false
    set! browser.safebrowsing.downloads.remote.enabled=false
    set! browser.safebrowsing.enabled=false
    set! browser.safebrowsing.gethashURL=""
    set! browser.safebrowsing.malware.enabled=false
    set! browser.safebrowsing.malware.reportURL=""
    set! browser.safebrowsing.reportErrorURL=""
    set! browser.safebrowsing.reportGenericURL=""
    set! browser.safebrowsing.reportMalwareErrorURL=""
    set! browser.safebrowsing.reportMalwareURL=""
    set! browser.safebrowsing.reportPhishURL=""
    set! browser.safebrowsing.reportURL=""
    set! browser.safebrowsing.updateURL=""
" }


" General Vimperator settings {
    set editor=vim

    " Hints
    set hintchars=asdfghjklzxvbnwertyuip
    hi Hint font-family: inconsolata; font-size: 14px; font-weight: bold; text-transform: uppercase; color: black; background: #f0f0f0; border: 1px solid #333; padding: .25em; margin-top: -.25em; margin-left: -.5em;

    " other fonts
    hi Normal font-family: inconsolata, unifont; font-size:16px; background: white; color:black;
    hi CmdLine>* font-family: inconsolata, unifont; font-size:16px;
    set ani

    " Autocomplete using Firefox Awesomebar subsystem
    set complete=l

    " Select the longest autocomplete match
    set wildmode='list:full'

    " Don't beep
    set noerrorbells

    " Scroll up and down faster
    nnoremap j 5j
    nnoremap k 5k

    " ,<space> clears search history
    nnoremap <leader><space> :noh<cr>
" }


" Ergonomic {
    let mapleader=','

    " Esc
    nnoremap <C-f> <nop>
    inoremap <C-f> <ESC>
    vnoremap <C-f> <ESC>
    cnoremap <C-f> <ESC>
    " Hard to reach symbols
    inoremap <C-u> ()<left>
    inoremap <C-t> []<left>
    inoremap <C-b> {}<left>
    inoremap <C-l> <right>
    inoremap <C-h> <left>
    " insert lines
    inoremap <C-o> <ESC>o
" }


" Keymappings {
    " v in normal mode goes straight into visual mode (useful after find)
    nnoremap v cv

    " exit c+v mode with q
    cnoremap q <ESC>
    vnoremap q <ESC>

    " Press 'F10' to toggle Vimperator
    noremap <F10> :vimperatortoggle<CR>

    " Press 'cntrl+h' to go to previous tab
    noremap <C-h> :tabprevious<CR>
    " Press 'cntrl+l' to go to next tab
    noremap <C-l> :tabnext<CR>

    " Terminal like copy/paste
    inoremap <C-S-c> <C-c>
    inoremap <C-S-v> <C-v>

    " Special copy paste
    inoremap <A> <nop>
    nnoremap <A> <nop>
    cnoremap <A> <nop>
    vnoremap <A> <nop>

    inoremap <A-c> <C-c>
    nnoremap <A-c> <C-c>
    cnoremap <A-c> <C-c>
    vnoremap <A-c> <C-c>

    inoremap <A-v> <C-v>
    nnoremap <A-v> <C-v>
    cnoremap <A-v> <C-v>
    vnoremap <A-v> <C-v>

    " Reload configuration file into current browser, useful for updating after editing this file.
    command! sourcerc :source ~/.vimperatorrc

    " dev console with dev command
    command! dev emenu Tools.Web Developer.Web Console<CR>
" }

" Firefox Extensions {
    " what to show and hide?
    set! extensions.lastpass.showNotifications=false
    set! extensions.lastpass.showSaveSiteNotifications=true
    set! extensions.lastpass.showChangePasswordNotifications=true
    set! extensions.lastpass.showFormFillNotifications=true
    set! extensions.lastpass.showFillNotifications=false
    set! extensions.lastpass.showHomepageAfterLogin=false
    set! extensions.lastpass.showLoginNotifications=false
    " a better icon
    set! extensions.lastpass.Icon=1
    " speak American
    set! extensions.lastpass.language=en-US
" }
